# 데이콘 제출

# ‘누구를 뽑지?’ 함께 알아보는 대선 후보 정책**•**공약

안녕하세요. Team Bang9 입니다.

5년마다 치러지는 대통령 선거!

너무 많은 대통령 후보들...

더 많은 공약들...

일일이 다 보기 어려우셨죠!?

지금부터 보여줄게... 완전히 달라진 시각화

# 1. 서론

제 20대 대통령 선거는 모두 14명이 입후보하였으며 처음 사전 투표가 도입된 2014년 지방 선거 이후 역대 최고치의 사전 투표율을 보여준 선거입니다. 

모든 후보들의 공약을 한눈에 파악하기 어렵기 때문에 공약데이터의 활용 및 시각화를 통해 유권자들에게 의미있는 정보를 전달하는 것에 목적을 두었습니다.

# 1-1. 제 20대 대통령 선거 후보 및 슬로건

| 기호 | 정당 | 이름 | 슬로건 |
| --- | --- | --- | --- |
| 1번 |  더불어민주당 | 이재명 | 위기에 강한
유능한 경제대통령 |
| 2번 | 국민의힘 | 윤석열 | 국민이 키운 윤석열
내일을 바꾸는 대통령 |
| 3번 | 정의당 | 심상정 | 주4일제 복지국가
일하는 시민의 대통령 |
| 4번 | 국민의당 | 안철수 | 바르고 깨끗한 과학경제강국
믿을 사람, 바른 사람 안철수 |
| 5번 | 기본소득당 | 오준호 | 누구나 나답게
기본소득 대한민국 |
| 6번 | 국가혁명당 | 허경영 | 국가에 돈이 없는 것이 아니라
도둑놈이 많습니다! |
| 7번 | 노동당 | 이백윤 | 계속 이렇게 살거야?
바꾸고 싶다면, 사회주의 |
| 8번 | 새누리당 | 옥은호 | 선거를 국민에게
자유를 국민에게
선관위 개혁, 부정선거 단죄 |
| 9번 | 새로운물결 | 김동연 | 품격있는 경제대통령
기득권공화국에서 기회의 나라로 |
| 10번 | 신자유민주연합 | 김경재 | 자유대한민국 재건의 선봉장
자유 우파 구국 대통령 |
| 11번 | 우리공화당 | 조원진 | 부정부패 쓰레기정치 확!
개혁적인 자유우파 유일 후보 |
| 12번 | 진보당 | 김재연 | 당신의 땀이 빛나도록
일하는 사람들의 정치혁명 |
| 13번 | 통일한국당 | 이경희 | 오직 경제! 오직 통일!
국민분열정치 이제 그만,
국민통합정치 이제 시작! |
| 14번 | 한류연합당 | 김민찬 | 국가를 지키고 국민을 보호하겠습니다.
새로운 시대! 새로운 나라! 새로운 사람! |

# 2. 데이터셋 생성

시각화를 위한 데이터는 데이콘의 데이터탭에서 정리된 후보 공약 pdf 파일을 사용했습니다.

2022년 3월 2일 기준 수집한 대선 후보들의 공약입니다.

출처 : [https://policy.nec.go.kr/](https://policy.nec.go.kr/)

## 2-1. PDF파일 → TXT파일 변환

✅  데이터 사용을 위해 PDF파일을 TXT파일로 변환하는 작업을 진행

### (1) pdfminer 모듈 사용

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled.png)

원본 파일에 없는 특수 문자가 삽입되고 텍스트 순서가 변경되었습니다.

페이지 하단의 기호와 페이지 번호도 함께 변환되었습니다.

### (2) pdfplumber 모듈 사용

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%201.png)

원본 파일과 동일하게 텍스트 변환되었습니다.

페이지 하단의 기호와 페이지 번호도 함께 변환되었습니다.

**결과적으로 모든 PDF파일 → TXT파일 변환작업에서 pdfplumber 모듈 사용했습니다.**

## 2-2. 텍스트 클렌징

✅ 텍스트 분석에 방해가 되는 불필요한 문자, 기호 등을 사전에 제거하는 작업

### (1) 텍스트 제거

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%202.png)

> 특수 문자가 사용된 경우 데이터전처리 단계에서 오류가 발생할 가능성이 있습니다.
> 
> 
> 위의 사진에서는 △가 해당되며 모두 삭제했습니다.
> 

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%203.png)

### (2) 원본 파일 내용 누락

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%204.png)

> 원본 파일의 이미지로 삽입된 표와 같은 경우 txt파일에서 누락됩니다.
> 
> 
> 수기로 표의 내용을 추가했습니다.
> 

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%205.png)

### (3) 텍스트 라인 교정

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%206.png)

> 문장의 끝에 오는 단어가 줄이 넘어가며 하나의 단어에서 두 개로 나뉘어지는 현상이 발생합니다.
> 
> 
> 위의 사진에서는 유니콘기업이 해당 되며 이와 같은 단어를 찾아 이어 붙이는 작업을 진행했습니다.
> 

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%207.png)

# 3. 워드클라우드

## 3-1. 데이터 전처리

14명의 후보들의 공약데이터를 활용하기 위해 데이터 전처리 작업을 진행하였습니다.

### (1) wordcount

- 파이썬에서 제공하는 collection 모듈의 Counter 클래스를 사용해서 데이터의 개수를 셀 수 있습니다. 데이터의 개수가 많은 순으로 정렬된 배열의 리턴하는 most_common을 사용했습니다.
- **Okt (Twitter)를 사용**
- morphs, nouns, pharase, pos 중에 nouns(text)를 통해 시각화 데이터를 처리하였습니다.
- 데이터에서 등장한 횟수가 많은 순으로 200개의 단어를 출력했습니다.

### (2) Stopword

- 갖고 있는 데이터에서 유의미한 단어 토큰만을 선별하게 위해 큰 의미가 없는 단어 토큰을 제거하는 작업으로 불용어 처리를 하였습니다. 이러한 단어들을 불용어(Stopword)라고 합니다.
- 명사 형태로 출력을 하니 ‘및’, ‘등’과 같은 부사와 ‘도입’, ‘순위’, ‘이행’과 같이 명사임에도 목적어나 주어가 생략되 의도가 불분명한 단어를 삭제하는 작업을 수기로 진행하였습니다.

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%208.png)

## 3.2 텍스트 시각화

14명의 후보들의 공약을 데이터 전처리 작업을 한뒤 텍스트 시각화 작업을 하였습니다.

### (1) wordcloud

- 워드클라우드(word cloud)는 메타 데이터에서 얻어진 태그들을 분석하여 중요도나 인기도 등올 고려하여 시각적으로 표현하는 것입니다. 시각적인 중요도의 강조를 위해 각 데이터들은 그 중요도에 따라 글자의 생성이나 굵기를 옵션으로 설정할 수 있습니다.

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%209.png)

### (2) image mask

- ‘mask’라는 기능을 이용하여 원하는 이미지의 워드 클라우드를 만들 수 있습니다.
- 청와대 공식 로고를 사용했습니다.

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%2010.png)

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%2011.png)

- 파이썬 PIL모듈은 이미지 경계선이 뚜렷한 png파일이 필요합니다.

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%2012.png)

- 내가 설정한 마스크의 형태에 따라 워드 클라우드가 생성 되었음을 확인 할 수 있습니다.

# 4. 데이터 시각화 그래프

## 4.1 데이터 전처리

- 각 후보들의 공약을 시각화 하기 위해 등장한 횟수가 많은 단어를 출력받아 가공한 것을 바탕으로 8가지 공약파트에 맞춰 수기로 분류작업을 진행하였습니다.
- 각 파트에 해당하는 단어 사용 횟수를 세어 분류한 다음 총 합계를 구했습니다.

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%2013.png)

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%2014.png)

- 위의 데이터를 바탕으로 matplotlib라이브러리를 활용해 시각화작업을 진행하였습니다.

## 4.2 차트

- 대통령 후보별 강조한 정책을 파악하기 위패 바 차트를 사용하였습니다.
- 정책 8가지를 x 축에 대입하고, 사용 단어 횟수를 y축에 대입하여 바 차트를 구현하였습니다.
- 아래는 이재명의 분야별 단어 횟수 사용 반도를 나타낸 그래프입니다.

> 빨간줄은 평균값입니다.
> 

![Untitled](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/Untitled%2015.png)

## 4.3 바차트(정책별) + 평균(y축직선)

- 특정 정책을 어느 후보가 더 강조했는지 상대적으로 비교해 보기위해 바 차트로 나타내었습니다.
- 전체적 평균값을 적용해 평균과 비교하여 상대적인 비율을 볼 수 있게 하였습니다.
- 후보 14명을 x 축에 대입하고, 후보별 단어 사용횟수를  계산해서 y축에 대입하였습니다.

> 빨간줄은 평균값입니다.
> 

![12.jpg](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/12.jpg)

## 4.4 파이차트

- 각 후보의 공약에서 특정정책이 차지하는 비율을 파이차트로 나타냈습니다.
- 파이차트의 값들은 후보 발언의 상대값을 계산해 할당하였습니다.

![21.jpg](%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%A9%E1%86%AB%20%E1%84%8C%E1%85%A6%20ade1f/21.jpg)

# 5. 부록

7시~9시까지 끝내기